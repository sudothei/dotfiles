## installs my apps

sudo pacman -S \
neovim
ark
sxiv
pulseaudio
polybar
pulseaudio-alsa
pavucontrol
manjaro-pulseaudio
alsa-ucm-conf
send-notify
nodejs
npm
python
ruby
xclip
opencl-nvidia
lib32-opencl-nvidia
calibre
cheese
zathura
libreoffice
weechat
iwd
xorg-xwininfo
xorg-xev
brightnessctl
openvpn
kubectl
net-tools
unzip
wireshark-cli
wireshark-qt
john
cura
docker
lightdm
smartmontools
pandoc
texlive-most
tlp
okular
filezilla

yay -S \
connman-gtk
simplescreenrecorder
flameshot

## sets up nvidia stuff

sudo echo 'options nvidia "NVreg_DynamicPowerManagement=0x02"' | sudo tee /etc/modprobe.d/nvidia.conf

sudo echo '''
# Enable runtime PM for NVIDIA VGA/3D controller devices on driver bind
ACTION=="bind", SUBSYSTEM=="pci", ATTR{vendor}=="0x10de", ATTR{class}=="0x030000", TEST=="power/control", ATTR{power/control}="auto"
ACTION=="bind", SUBSYSTEM=="pci", ATTR{vendor}=="0x10de", ATTR{class}=="0x030200", TEST=="power/control", ATTR{power/control}="auto"

# Disable runtime PM for NVIDIA VGA/3D controller devices on driver unbind
ACTION=="unbind", SUBSYSTEM=="pci", ATTR{vendor}=="0x10de", ATTR{class}=="0x030000", TEST=="power/control", ATTR{power/control}="on"
ACTION=="unbind", SUBSYSTEM=="pci", ATTR{vendor}=="0x10de", ATTR{class}=="0x030200", TEST=="power/control", ATTR{power/control}="on"
''' | sudo tee /etc/udev/rules.d/80-nvidia-pm.rules

## assigns correct monitor to polybar config and launch.sh

monitor=$(xrandr -q | grep primary | sed 's/ .*//g' | cat /dev/stdin)

## used for neovim plugins

npm install -g neovim
pip install neovim

## sets brave as default browser

xdg-mime default brave.desktop x-scheme-handler/http
xdg-mime default brave.desktop x-scheme-handler/htts
xdg-settings set default-web-browser brave.desktop      

## I keep forgetting to add this TODO

hideit.sh

## irc nick setup I need to make a script for doing to all servers

/set irc.server.undernet.nicks "PaigeParity,Parity,PaigeP,pParity,p4163p4r17y"
/set irc.server.undernet.username "Paige Parity"
/set irc.server.undernet.sasl_username "paigeparity"
/set irc.server.undernet.sasl_password "xxxxxxx"
/set irc.server.undernet.command "/msg nickserv identify xxxxxxx"

## configures iwd instead of wpa_supplicant or NetworkMangler

sudo cp iwd.service connman_iwd.service /etc/systemd/system/
sudo systemctl disable NetworkManager
sudo systemctl disable wpa_supplicant
sudo systemctl stop NetworkManager
sudo systemctl stop wpa_supplicant
sudo systemctl enable iwd.service
sudo systemctl start iwd.service
sudo systemctl enable connman
sudo systemctl start connman
sudo systemctl disable lightdm
sudo systemctl enable nodm

## TODO enable and install blackarch

sudo pacman -Sy overwrite \* blackarch

## TODO
## configure /etc/nodm.conf
